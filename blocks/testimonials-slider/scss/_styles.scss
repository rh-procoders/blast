@import "../../../assets/scss/variable";

.testimonials-slider {
    padding: spacing('5xl') 0; // 120px top/bottom
    background: #fff;
    border-radius: 70px;
    position: relative;
    z-index: 1;
    
    
    &__container {
        max-width: calc(100% - (((100% - var(--wp--preset--container-xl)) + 1px ) / 2));
        margin-left:auto;
        overflow: hidden;
        padding-left: 40px;
    }
    
    &__header {
        text-align: center;
        margin-bottom: 60px;
    }
    
    &__heading {
        font-family: $font-family-primary; // NeuePlak
        font-weight: font-weight('regular'); // 700
        color: color('dark');
        line-height: 1.2;
        max-width: 690px;
        margin: 0 auto;        
        strong {
            font-weight: font-weight('extrabold'); // 800
            font-family: $font-family-tertiary; // Tomorrow
        }
    }
    
    &__wrapper {
        position: relative;
    }
    
    &__splide {
        .splide__track {
            // overflow: visible;
        }
        
        .splide__list {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        
        .splide__slide {
            width: 670px !important; // Fixed width for each slide
            flex-shrink: 0; // Prevent shrinking
            
            @include tablet{
                width: 295px !important; // Smaller fixed width on mobile
            }
        }
    }
    
    &__card {
        position: relative;
        background-color: #F4F4F4;
        //background-image: url('../../../img/slider-card-bg-desktop.svg');
        background-size: cover;
        background-position: bottom left;
        border-radius: 40px;
        padding: 0;
        height: 380px; // Match SVG height
        width: 100%;
        max-width: 670px; // Match SVG width
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow: hidden;
        
        // Apply custom clip-path shape based on your SVG
        clip-path: polygon( 88.06% 0%,88.06% 0%,89.666% 0.003%,91.113% 0.025%,92.413% 0.083%,93.575% 0.197%,94.611% 0.385%,95.53% 0.666%,96.343% 1.057%,97.06% 1.579%,97.693% 2.248%,98.251% 3.083%,98.251% 3.083%,98.725% 4.067%,99.105% 5.183%,99.4% 6.448%,99.622% 7.882%,99.781% 9.502%,99.888% 11.328%,99.953% 13.377%,99.986% 15.669%,99.998% 18.221%,100% 21.053%,100% 78.947%,100% 78.947%,99.998% 81.779%,99.986% 84.331%,99.953% 86.623%,99.888% 88.672%,99.781% 90.498%,99.622% 92.118%,99.4% 93.552%,99.105% 94.817%,98.725% 95.933%,98.251% 96.917%,98.251% 96.917%,97.693% 97.752%,97.06% 98.421%,96.343% 98.942%,95.53% 99.334%,94.611% 99.615%,93.575% 99.803%,92.413% 99.917%,91.113% 99.975%,89.666% 99.997%,88.06% 100%,22.5% 100%,22.5% 100%,22.154% 100%,21.841% 99.999%,21.558% 99.996%,21.303% 99.99%,21.072% 99.981%,20.862% 99.967%,20.67% 99.947%,20.493% 99.921%,20.329% 99.887%,20.173% 99.845%,20.173% 99.845%,19.445% 99.539%,18.755% 99.082%,18.109% 98.486%,17.513% 97.761%,16.972% 96.917%,16.494% 95.964%,16.082% 94.913%,15.744% 93.774%,15.486% 92.557%,15.312% 91.273%,15.312% 91.273%,15.288% 90.999%,15.269% 90.709%,15.254% 90.398%,15.243% 90.06%,15.235% 89.69%,15.23% 89.282%,15.226% 88.832%,15.225% 88.334%,15.224% 87.782%,15.224% 87.171%,15.224% 87.171%,15.224% 86.56%,15.223% 86.009%,15.222% 85.51%,15.218% 85.06%,15.213% 84.653%,15.205% 84.282%,15.194% 83.944%,15.179% 83.633%,15.16% 83.343%,15.136% 83.069%,15.136% 83.069%,14.962% 81.785%,14.703% 80.568%,14.365% 79.429%,13.954% 78.378%,13.475% 77.425%,12.935% 76.581%,12.339% 75.856%,11.693% 75.26%,11.003% 74.804%,10.274% 74.497%,10.274% 74.497%,10.119% 74.455%,9.954% 74.421%,9.778% 74.395%,9.586% 74.376%,9.376% 74.361%,9.145% 74.352%,8.89% 74.346%,8.607% 74.343%,8.294% 74.342%,7.948% 74.342%,7.612% 74.342%,7.612% 74.342%,7.176% 74.342%,6.783% 74.34%,6.427% 74.336%,6.106% 74.326%,5.816% 74.312%,5.553% 74.289%,5.312% 74.258%,5.091% 74.217%,4.885% 74.164%,4.691% 74.098%,4.691% 74.098%,4.024% 73.767%,3.391% 73.31%,2.798% 72.734%,2.249% 72.048%,1.749% 71.259%,1.301% 70.376%,0.912% 69.408%,0.585% 68.362%,0.326% 67.247%,0.139% 66.072%,0.139% 66.072%,0.101% 65.729%,0.071% 65.366%,0.048% 64.976%,0.03% 64.552%,0.017% 64.087%,0.009% 63.575%,0.004% 63.009%,0.001% 62.383%,0% 61.689%,0% 60.921%,0% 21.053%,0% 21.053%,0.002% 18.221%,0.014% 15.669%,0.047% 13.377%,0.112% 11.328%,0.219% 9.502%,0.378% 7.882%,0.6% 6.448%,0.895% 5.183%,1.275% 4.067%,1.749% 3.083%,1.749% 3.083%,2.307% 2.248%,2.94% 1.579%,3.657% 1.057%,4.47% 0.666%,5.389% 0.385%,6.425% 0.197%,7.587% 0.083%,8.887% 0.025%,10.334% 0.003%,11.94% 0%,88.06% 0% );
        
        @include tablet{
            height: 528px; // Adjust for mobile

            clip-path: polygon( 79.661% 0%,79.661% 0%,82.397% 0.002%,84.862% 0.013%,87.076% 0.045%,89.056% 0.107%,90.82% 0.208%,92.385% 0.359%,93.77% 0.571%,94.993% 0.852%,96.07% 1.213%,97.021% 1.664%,97.021% 1.664%,97.829% 2.196%,98.475% 2.798%,98.978% 3.481%,99.357% 4.255%,99.628% 5.129%,99.809% 6.115%,99.92% 7.221%,99.976% 8.458%,99.997% 9.835%,100% 11.364%,100% 88.636%,100% 88.636%,99.997% 90.165%,99.976% 91.542%,99.92% 92.779%,99.809% 93.885%,99.628% 94.871%,99.357% 95.745%,98.978% 96.519%,98.475% 97.202%,97.829% 97.804%,97.021% 98.336%,97.021% 98.336%,96.07% 98.787%,94.993% 99.148%,93.77% 99.429%,92.385% 99.641%,90.82% 99.792%,89.056% 99.893%,87.076% 99.955%,84.862% 99.987%,82.397% 99.998%,79.661% 100%,41.356% 100%,41.356% 100%,40.092% 100%,38.951% 99.996%,37.922% 99.987%,36.996% 99.97%,36.161% 99.941%,35.409% 99.899%,34.728% 99.839%,34.108% 99.76%,33.539% 99.658%,33.012% 99.531%,33.012% 99.531%,32.539% 99.39%,32.087% 99.233%,31.654% 99.059%,31.244% 98.871%,30.857% 98.669%,30.495% 98.452%,30.158% 98.223%,29.848% 97.982%,29.566% 97.729%,29.314% 97.465%,29.314% 97.465%,29.086% 97.17%,28.904% 96.853%,28.762% 96.506%,28.656% 96.126%,28.579% 95.705%,28.528% 95.239%,28.497% 94.721%,28.481% 94.147%,28.475% 93.509%,28.475% 92.803%,28.475% 92.803%,28.474% 92.097%,28.468% 91.459%,28.452% 90.885%,28.421% 90.367%,28.37% 89.901%,28.293% 89.48%,28.187% 89.1%,28.045% 88.753%,27.863% 88.436%,27.636% 88.141%,27.636% 88.141%,27.383% 87.877%,27.101% 87.624%,26.791% 87.383%,26.454% 87.154%,26.092% 86.937%,25.705% 86.735%,25.295% 86.547%,24.863% 86.374%,24.41% 86.216%,23.937% 86.075%,23.937% 86.075%,23.41% 85.948%,22.841% 85.846%,22.222% 85.767%,21.541% 85.707%,20.788% 85.665%,19.953% 85.636%,19.027% 85.619%,17.998% 85.61%,16.857% 85.607%,15.593% 85.606%,14.237% 85.606%,14.237% 85.606%,12.607% 85.605%,11.136% 85.6%,9.811% 85.585%,8.621% 85.557%,7.554% 85.51%,6.596% 85.441%,5.735% 85.343%,4.96% 85.214%,4.257% 85.048%,3.616% 84.84%,3.616% 84.84%,3.353% 84.738%,3.098% 84.63%,2.851% 84.517%,2.613% 84.398%,2.383% 84.275%,2.162% 84.146%,1.95% 84.013%,1.747% 83.875%,1.554% 83.733%,1.371% 83.586%,1.371% 83.586%,1% 83.227%,0.702% 82.835%,0.47% 82.402%,0.296% 81.921%,0.171% 81.386%,0.088% 80.789%,0.037% 80.124%,0.011% 79.384%,0.001% 78.562%,0% 77.652%,0% 11.364%,0% 11.364%,0.003% 9.835%,0.024% 8.458%,0.08% 7.221%,0.191% 6.115%,0.372% 5.129%,0.643% 4.255%,1.022% 3.481%,1.525% 2.798%,2.171% 2.196%,2.979% 1.664%,2.979% 1.664%,3.93% 1.213%,5.007% 0.852%,6.23% 0.571%,7.615% 0.359%,9.18% 0.208%,10.944% 0.107%,12.924% 0.045%,15.138% 0.013%,17.603% 0.002%,20.339% 0%,79.661% 0% );


        }
    }

    &__bg-effect{
        height: auto;
        position: absolute;
        right: 0px;
        bottom: 0px;
        width: 100%;
        z-index: -1;
        @include tablet{
            height: auto;
            position: absolute;
            top: inherit;
            z-index: -1;
        }
    }
    
    &__card-content {
        padding: 40px;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 44px;
        
        @include tablet{
            gap: 0px;
            padding:30px 30px 24px 30px;
        }
    }
    
    &__mask {
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 0;
        visibility: hidden;
    }
    
    &__quote {
        flex: 1;
        margin-bottom:0px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        @include tablet{
            gap: 30px;
        }
        
        blockquote {
            font-family: $font-family-primary; // WixMadeforText
            font-size: 24px;
            line-height: 130%;
            font-weight: font-weight('regular'); // 400
            color: var(--wp--preset--color--dark-blue);
            margin: 0;
            font-style: italic;   
            @include tablet{
                font-size: 18px;
                
            }         
            strong {
                font-family: $font-family-tertiary; // Tomorrow
                font-style: normal;
            }
        }
    }

    &__bottom-icon{
        position: absolute;
        bottom: 30px;
        left: 25px;
        @include tablet{
            bottom: 15px;
            left: 20px;
        }
    }

    &__info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: calc(100% - 90px);
        width: 100%;
        margin-left: auto;
        @include tablet{
            justify-content: flex-end;
        }
    }
    
    &__logo {
        margin-bottom: 0px;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 60px;
        
        img {
            max-width: 120px;
            max-height: 60px;
            width: auto;
            height: auto;
            object-fit: contain;
        }
    }
    
    &__author {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    &__author-image {
        img{
            border-radius: 20px;
            border: 2px solid #FFF;
            width: 62px;
            height: 62px;
            object-fit: cover;
        }
    }
    
    &__author-name {
        font-family: $font-family-secondary; // WixMadeforText
        font-size: font-size('base'); // 16px
        line-height: 120%;
        font-weight: 500;
        color: var(--wp--preset--color--dark-blue);
        margin-bottom: 0px;
    }
    
    &__author-title {
        font-family: $font-family-secondary; // WixMadeforText
        font-size: font-size('sm'); // 14px
        font-weight: font-weight('regular'); // 400
        color: color('gray');
    }
    
    // Splide Navigation Styling
    .splide__arrows {
        position: relative;
        margin-top: spacing('xl'); // 32px
        display: flex;
        justify-content: center;
        gap: spacing('lg'); // 24px
    }
    
    .splide__arrow {
        background: color('white');
        border: 2px solid color('light-gray');
        border-radius: 50%;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        cursor: pointer;
        
        &:hover {
            background: color('blue');
            border-color: color('blue');
            transform: scale(1.1);
            
            .splide__arrow-icon {
                fill: color('white');
            }
        }
        
        &:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            
            &:hover {
                transform: none;
                background: color('white');
                border-color: color('light-gray');
                
                .splide__arrow-icon {
                    fill: color('gray');
                }
            }
        }
    }
    
    .splide__arrow-icon {
        width: 20px;
        height: 20px;
        fill: color('gray');
        transition: fill 0.3s ease;
    }
    
    // Splide Pagination Styling
    .splide__pagination {
        display: flex;
        justify-content: center;
        gap: spacing('sm'); // 8px
        margin-top: spacing('lg'); // 24px
        list-style: none;
        padding: 0;
        margin-left: 0;
        margin-right: 0;
        
        .splide__pagination__page {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: color('light-gray');
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            
            &.is-active {
                background: color('blue');
                transform: scale(1.2);
            }
            
            &:hover {
                background: color('blue');
            }
        }
    }
    
    &__placeholder {
        text-align: center;
        padding: spacing('5xl') spacing('xl'); // 120px 32px
        color: color('gray');
        font-style: italic;
    }
}

// Responsive breakpoints for Splide
@media (max-width: 1200px) {
    .testimonials-slider__splide {
        // 2 slides on tablet-large
    }
}

@media (max-width: 768px) {
    .testimonials-slider__splide {
        // 1 slide on mobile
        .splide__slide {
            padding: 0; // Remove side padding on mobile
        }
    }
}

// Hide arrows on mobile if needed
@media (max-width: 480px) {
    .testimonials-slider .splide__arrows {
        display: none;
    }
}